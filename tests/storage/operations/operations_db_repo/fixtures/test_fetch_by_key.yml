---

test_fetch_by_key:
  owners:
    - key: 1
      email: dev@clayman.pro
    - key: 2

  accounts:
    - name: Tinkoff Black
      owner: 1
      enabled: yes
    - name: Tinkoff Platinum
      owner: 1
      enabled: yes

  categories:
    - name: Tinkoff Black
      owner: 1
      enabled: yes
    - name: Tinkoff Platinum
      owner: 1
      enabled: yes

test_success:
  - id: Fetch operation by key
    owner: 1
    key: 1
    operations:
      - amount: 123
        description: Foo
        owner: 1
        account: 1
        category: 1
        type: expense
        enabled: yes
        created_on: "2021-04-21T00:57:20"
    expected: 
      key: 1
      amount: 123
      description: Foo
      owner: 1
      deps:
        account: 1
        category: 1
      type: expense
      enabled: yes
      created_on: "2021-04-21T00:57:20"

test_missing:
  - id: Fetch missing operation by key
    owner: 1
    key: 2
    operations:
      - amount: 123
        description: Foo
        owner: 1
        account: 1
        category: 1
        type: expense
        enabled: yes
        created_on: "2021-04-21T00:57:20"
