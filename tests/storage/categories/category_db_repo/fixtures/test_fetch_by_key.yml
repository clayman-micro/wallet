---

test_fetch_by_key:
  owners:
    - key: 1
      email: dev@clayman.pro
    - key: 2

test_success:
  - id: Fetch account by key
    owner: 1
    key: 1
    categories:
      - name: Food
        owner: 1
        enabled: yes
      - name: Transport
        owner: 1
        enabled: yes
    expected:
      key: 1
      name: Food
      owner: 1

test_missing: 
  - id: Fetch unknown account
    owner: 1
    key: 2
    categories: []

  - id: Fetch deleted account
    owner: 1
    key: 2
    categories:
      - name: Food
        owner: 1
        enabled: yes
      - name: Sport
        owner: 1

  - id: Fetch account from another owner
    owner: 2
    key: 2
    categories:
      - name: Finance
        owner: 1
        enabled: yes
      - name: Food
        owner: 1
        enabled: yes
      