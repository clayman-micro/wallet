---

test_success:
  - id: Add expense operation
    amount: "100.0"
    operation_type: expense
    created_on: 0  # Offset in month from current date
    expected: 
      - {"expenses": "100.0", "rest": "-100.0"}
  - id: Add income operation
    amount: "100.0"
    operation_type: income
    created_on: 0  # Offset in month from current date
    expected: 
      - {"incomes": "100.0", "rest": "100.0"}
  
test_success_with_balance:
  - id: Add expense operation
    amount: "100.0"
    operation_type: expense
    created_on: -1  # Offset in month from current date
    balance: 
      - {"expenses": "200.0", "rest": "-200.0"}
    expected: 
      - {"expenses": "200.0", "rest": "-300.0"}
      - {"month_offset": -1, "expenses": "100.0", "rest": "-100.0"}
  - id: Add income operation
    amount: "100.0"
    operation_type: income
    created_on: -3  # Offset in month from current date
    balance: 
      - {"expenses": "200.0", "rest": "-200.0"}
    expected: 
      - {"expenses": "200.0", "rest": "-100.0"}
      - {"month_offset": -1, "rest": "100.0"}
      - {"month_offset": -2, "rest": "100.0"}
      - {"month_offset": -3, "incomes": "100.0", "rest": "100.0"}
    